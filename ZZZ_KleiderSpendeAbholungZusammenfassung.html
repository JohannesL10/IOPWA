<!doctype html>
<html lang="de">

<body>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Your Choice!</title>
        <link rel="stylesheet" href="ZZZ_style.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <nav class="navbar bg-body fixed-top shadow">
            <div class="navbar">
                <div class="container-fluid">
                    <a href="ZZZ_Startseite.html">
                        <div class="logonavbar"> <img src="Logo.png" alt="" width="90px" height="90px"></div>
                    </a>
                </div>
            </div>
            <div class="button"> <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
                    <span class="navbar-toggler-icon"></span></button></div>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Navigation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="ZZZ_Startseite.html">Was ist "Your Choice!"?</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="ZZZ_SpendeEinstieg.html">Ich möchte spenden!</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="index.html">Rechtliche Hinweise</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </head>
    <div class="container-sm">
        <div class="container1">
            <p> Danke für deine Spendenbereitschaft! Überprüfe doch bitte im Anschluss die Zusammenfassung deiner Daten. Wenn alles passt, dann kannst du mit einem Klick auf den Button "Spende abschicken" die Abholung deiner Spende beauftragen.</p>
        </div>
        <div class="container2">
            <strong>Datum der Abholung</strong>
            <p id="date"></p>
            <strong>Uhrzeit der Abholung zwischen folgendem Zeitfenster</strong>
            <div class="row">
                <p id="erreichbarkeit"></p><br>
            </div>
            <table class="table">
                <tbody>
                    <tr>
                        <th scope="row">Vorname</th>
                        <td>
                            <p id="vorname"></p><br>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Name</th>
                        <td>
                            <p id="nachname"></p><br>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Adresse</th>
                        <td>
                            <p id="adresse"></p><br>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Postleitzahl</th>
                        <td>
                            <p id="postleitzahl"></p><br>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row">Stadt</th>
                        <td>
                            <p id="stadt"></p><br>
                        </td>
                    <tr>
                        <th scope="row">Ausgewähltes Krisengebiet</th>
                        <td>
                            <p id="selected-krisengebiet"></p><br>
                        </td>
                    </tr>
                </tbody>
                <br>
            </table>
            <table class="table">
                <tbody>
                    <tr>
                        <th>Art des Kleidungsstücks</th>
                        <td><strong>Anzahl</strong> </td>
                    <tr>
                        <th>Oberteilen</th>
                        <td>
                            <p id="oberteile"></p>
                        </td>
                    </tr>
                    <tr>
                        <th>Unterteile</th>
                        <td>
                            <p id="unterteile"></p>
                        </td>
                    </tr>
                    <tr>
                        <th>Schuhpaare</th>
                        <td>
                            <p id="schuhe"></p>
                        </td>
                    </tr>
                    <tr>
                        <th>Sonstige Kleidungstücke</th>
                        <td>
                            <p id="sonstigeKleidungsstuecke"></p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <a href="ZZZ_KleiderspendeAbholungDanke.html" class="btn btn-primary">Spende absenden</a>
            <a href="ZZZ_KleiderspendeAbholung.html" class="btn btn-primary">Spende bearbeiten</a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script>
        window.onload = function zusammenfassung() {
            var parameter = new URLSearchParams(window.location.search);
            var vorname = parameter.get('vorname');
            var nachname = parameter.get('nachname');
            var adresse = parameter.get('adresse');
            var postleitzahl = parameter.get('postleitzahl');
            var stadt = parameter.get('stadt');
            var selectedKrisengebiet = parameter.get('krisengebiet');
            var oberteile = parameter.get('oberteile');
            var unterteile = parameter.get('unterteile');
            var schuhe = parameter.get('schuhe');
            var sonstigeKleidungsstuecke = parameter.get('sonstigeKleidungsstuecke');
            var date = parameter.get('date');
            var erreichbarkeit = parameter.get('erreichbarkeit');
            var sum = parseInt(oberteile) + parseInt(unterteile) + parseInt(schuhe) + parseInt(sonstigeKleidungsstuecke);
            var aktuellesDatum = new Date();
            var eingabeDatum = new Date(date);
            var aktuelleZeit = new Date();
            var datumZukunft = new Date();
            datumZukunft.setFullYear(datumZukunft.getFullYear() + 1);
            document.getElementById("nachname").innerHTML = nachname;
            document.getElementById("adresse").innerHTML = adresse;
            document.getElementById("postleitzahl").innerHTML = postleitzahl;
            document.getElementById("stadt").innerHTML = stadt;
            document.getElementById("selected-krisengebiet").innerHTML = selectedKrisengebiet;
            document.getElementById("erreichbarkeit").innerHTML = erreichbarkeit;
            document.getElementById("oberteile").innerHTML = oberteile;
            document.getElementById("unterteile").innerHTML = unterteile;
            document.getElementById("schuhe").innerHTML = schuhe;
            document.getElementById("sonstigeKleidungsstuecke").innerHTML = sonstigeKleidungsstuecke;

            document.getElementById("date").innerHTML = eingabeDatum.getDate() + "." + (eingabeDatum.getMonth() + 1) + "." + eingabeDatum.getFullYear();

            if (sum <= 0) {
                alert("Du Spendest aktuell 0 Artikel. Bitte gebe die Anzahl deiner Spendenartikel an!");
                window.location.href = "http://127.0.0.1:52247/YourChoice!/ZZZ_KleiderspendeAbholung.html";
            }
            if (aktuellesDatum > eingabeDatum) {
                alert("Das eingegebene Datum liegt in der Vergangenheit. Bitte erfasse ein Datum des aktuellen Jahres!");
                window.location.href = "http://127.0.0.1:52247/YourChoice!/ZZZ_KleiderspendeAbholung.html";
            }

            if (sum > 80) {
                alert("Die Summe der Spendenartikel liegt über 80 Artikel. Bitte wähle die Abholung an der Geschäftsstelle aus!")
                window.location.href = "http://127.0.0.1:52247/YourChoice!/ZZZ_KleiderspendeAbgabe.html";
            }
            if (eingabeDatum > datumZukunft) {
                alert("Das eingegebene Datum liegt mehr als 1 Jahr in der Zukunft. Bitte erfasse ein früheres Datum!")
                window.location.href = "http://127.0.0.1:52247/YourChoice!/ZZZ_KleiderspendeAbgabe.html";
            }
        }

    </script>
    <footer>
        <div class="footer"><strong>Vielen Dank für deinen Besuch auf unserer Website</strong> <br>
            <a href="ZZZ_RechtlicheHinweise.html">Rechtliche Hinweise</a>
            <br>
        </div>
    </footer>
</body>

</html>
